<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transactions</title>
    <link rel="stylesheet" href="/Transactions.css">
</head>
<body>
<div class="container">
    <!-- Navbar -->
    <div class="navbar">
        <div class="profile">
            <div class="profile-pic"
                 th:text="${customer.getName().charAt(0)}">
            </div>
            <div class="profile-name" th:text="${customer.name}"></div>
            <div class="arrow">â€º</div>
        </div>
    </div>

    <!-- Sidebar -->
    <div class="container-content">
        <div class="sidebar">
            <div class="sidebar-item" onclick="window.location.href='/my_accounts/';">ðŸ”‘ My Accounts</div>
            <div class="sidebar-item first" onclick="window.location.href='/transaction/';">ðŸ’° Transactions</div>
            <div class="sidebar-item" onclick="window.location.href='/logout';">ðŸšª Log Out</div>
        </div>
        <div class="main-content">
            <div class="transactions-header">
                <h1>Transactions</h1>
            </div>

            <!-- INTERNAL TRANSACTION -->
            <div class="transaction-box">
                <h2>Transfer Between Your Accounts</h2>
                <form action="/transaction/create_internal_transaction" method="post" class="form-row">
                    <label for="fromAccountInternal">From Account:</label>
                    <select id="fromAccountInternal" name="fromAccountId" required>
                        <option value="">Select an Account</option>
                        <option th:each="account : ${accounts}" th:value="${account.id}" th:text="'ID: ' + ${account.id} + ' - Balance: $' + ${account.balance}"></option>
                    </select>

                    <label for="toAccountInternal">To Account:</label>
                    <select id="toAccountInternal" name="toAccountId" required>
                        <option value="">Select an Account</option>
                        <option th:each="account : ${accounts}" th:value="${account.id}" th:text="'ID: ' + ${account.id} + ' - Balance: $' + ${account.balance}"></option>
                    </select>

                    <label for="amountInternal">Amount:</label>
                    <input type="number" step="0.01" id="amountInternal" name="amount" required>

                    <button type="submit">Transfer</button>
                </form>
            </div>

            <!-- EXTERNAL TRANSACTION -->
            <div class="transaction-box">
                <h2>Transfer to Another User</h2>
                <form action="/transaction/create_external_transaction" method="post" class="form-row">
                    <label for="fromAccountExternal">From Account:</label>
                    <select id="fromAccountExternal" name="fromAccountId" required>
                        <option value="">Select an Account</option>
                        <option th:each="account : ${accounts}" th:value="${account.id}" th:text="'ID: ' + ${account.id} + ' - Balance: $' + ${account.balance}"></option>
                    </select>

                    <label for="toEmail">Recipient Email:</label>
                    <input type="email" id="toEmail" name="toEmail" required>

                    <label for="amountExternal">Amount:</label>
                    <input type="number" step="0.01" id="amountExternal" name="amount" required>

                    <button type="submit">Send Money</button>
                </form>
            </div>
        </div>
    </div>
</div>
</body>
</html>
